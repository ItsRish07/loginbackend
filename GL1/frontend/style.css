* { margin:0; padding:0; box-sizing:border-box; font-family:'Josefin Sans',sans-serif; }
html { font-size: 105%; overflow-x: hidden; }
body { background:rgb(1, 5, 17); color:#e0e7ef; overflow-x:hidden; position:relative; }
/* REQ 5: Changed background to light beige, kept dark text for readability */
body.light { background:#FDFBF5; color:#0a1a2e; }
.bg { position:fixed; inset:0; background:radial-gradient(circle at 20% 80%, #4fc3f730, transparent 50%); z-index:-1; animation:drift 30s infinite linear; }
@keyframes drift { 0%{transform:translateX(-20px)} 100%{transform:translateX(20px)} }

header { position:sticky; top:0; background:rgba(10,26,46,0.95); backdrop-filter:blur(10px); padding:20px 30px; display:flex; justify-content:space-between; align-items:center; z-index:1000; border-bottom:1px solid #ffffff10; }
body.light header { background:rgba(255, 255, 255, 0.95); border-bottom: 1px solid #0a1a2e20; }

.logo { font-size:37px; font-weight:300; padding-top: 5px; padding-bottom: 5px;} 
body.light .logo { color: #0a1a2e; }
.logo span { font-weight:600; color:#4fc3f7; }

nav a {
  color:#e0e7ef;
  text-decoration:none;
  margin:0 15px;
  font-size: 20px;
  font-weight:400;
  display:inline-flex;
  align-items:baseline;
  gap:0.35em;
  vertical-align:middle;
  transition: color 0.3s ease, transform 0.2s ease;
}
nav a svg {
  width:1.1em;
  height:1.1em;
  fill:currentColor;
  position:relative;
  top:0.15em;
  flex-shrink:0;
}
nav a:hover {
  color:#4fc3f7;
  transform: translateY(-1px);
}
body.light nav a { color:#0a1a2e; }
body.light nav a:hover { color:#0077b6; }

.clock { background:rgba(0, 0, 0, 0.5); padding:8px 16px; border-radius:20px; font-weight:600; }
body.light .clock { background: #0a1a2e20; color: #0a1a2e; }

.nav-toggle {
  display: none;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 10px;
  z-index: 2000;
}
.hamburger {
  display: block;
  position: relative;
  width: 25px;
  height: 3px;
  background: #e0e7ef;
  border-radius: 2px;
  transition: transform 0.3s ease;
}
.hamburger::before,
.hamburger::after {
  content: '';
  position: absolute;
  left: 0;
  width: 100%;
  height: 3px;
  background: #e0e7ef;
  border-radius: 2px;
  transition: transform 0.3s ease, top 0.3s ease;
}
.hamburger::before { top: -8px; }
.hamburger::after { top: 8px; }

body.light .hamburger,
body.light .hamburger::before,
body.light .hamburger::after {
  background: #0a1a2e;
}
.nav-toggle.nav-active .hamburger { transform: rotate(45deg); }
.nav-toggle.nav-active .hamburger::before { top: 0; transform: rotate(90deg); }
.nav-toggle.nav-active .hamburger::after { top: 0; transform: rotate(90deg); }

.page { display:none; padding:20px 0; min-height:90vh; }
.page.active { display:block; }
.container { max-width:1600px; margin:auto; padding:0 15px; }
.dash, .about { text-align:center; padding:40px 20px; font-weight: 300;}
body.light .about { color: #0a1a2e; }

.ticker { background:#ffd700; color:#000; padding:12px; border-radius:8px; margin-bottom:20px; font-weight:600; overflow:hidden; }
.ticker span { display:inline-block; animation:scroll 20s linear infinite; white-space:nowrap; }
@keyframes scroll { 0%{transform:translateX(100%)} 100%{transform:translateX(-100%)} }

.grid { display:grid; grid-template-columns:1fr 380px; gap:20px; }
.map-box { 
  background:#112240; 
  border-radius:12px; 
  overflow:hidden; 
  border:2px solid #4fc3f750;
  display: flex;
  flex-direction: column;
  height: 810px;
}
body.light .map-box { background: #ffffff; border-color: #0a1a2e20; }
.tabs { 
  display:grid; 
  grid-template-columns:1fr 1fr 1fr;
  flex-shrink: 0;
  height: 50px;
}
.tabs button { padding:14px; background:transparent; border:none; color:#e0e7ef; font-weight:400; font-size: 18px;cursor:pointer;}
body.light .tabs button { color: #0a1a2e; }
.tabs button.active { background:#4fc3f730; color:#4fc3f7; }
body.light .tabs button.active { background: #4fc3f730; color: #0077b6; }
#map { 
  height: 100%;
  flex-grow: 1;
}

/* REQ 2: Renamed .sidebar > div to .sidebar-box */
.sidebar-box { 
  background:#112240; 
  border-radius:12px; 
  padding:20px; 
  margin-bottom:20px; 
  border:1px solid #ffffff10; 
}
body.light .sidebar-box { background: #ffffff; border-color: #0a1a2e20; }

.sidebar-box h3 { color:#4fc3f7; margin-bottom:15px; text-align:center; }
body.light .sidebar-box h3 { color: #0077b6; }
.search { display:flex; }
/* REQ 2: Removed margin-bottom from .search, now handled by .sidebar-box */
.search input { flex:1; padding:10px; border-radius:8px 0 0 8px; border:none; background: #f0f8ff; }
.search button { padding:10px 15px; background:#4fc3f7; color:#fff; border:none; border-radius:0 8px 8px 0; cursor:pointer; }
#weatherInfo { text-align:center; }
.temp { font-size:48px; font-weight:300; color:#4fc3f7; }
body.light .temp { color: #0077b6; }
body.light .loc, body.light .desc, body.light .details { color: #0a1a2e; }
.details span { display:block; margin:8px 0; font-size:14px; }

.item { display:flex; gap:12px; background:#1e3a5f; padding:14px; border-radius:8px; margin-bottom:10px; }
body.light .item { background: #f0f8ff; }
body.light .item strong, body.light .item div { color: #0a1a2e; }
.item .icon { width:36px; height:36px; background:#ffd700; color:#000; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:20px; flex-shrink:0; }

/* REQ 1: Added container for scrollable table */
.table-container {
  overflow-x: auto;
  max-width: 100%;
}
table { width:100%; border-collapse:collapse; margin-top:10px; table-layout: fixed; }
th, td { padding:12px; text-align:left; border-bottom:1px solid #ffffff20; cursor:pointer; word-wrap: break-word; }
body.light th, body.light td { color: #0a1a2e; border-bottom-color: #0a1a2e20; }
th { background:#4fc3f730; }
body.light th { background: #4fc3f720; }
tr:hover td { background:#4fc3f720; }
body.light tr:hover td { background: #4fc3f710; }
.sev.High { color:#f44336; font-weight:bold; }
.sev.Medium { color:#ff9800; font-weight:bold; }
.sev.Low { color:#4caf50; font-weight:bold; }

.charts { display:grid; grid-template-columns:1fr 1fr; gap:30px; margin-top:30px; max-width:1000px; margin-left:auto; margin-right:auto;}
canvas { background:#112240; border-radius:12px; padding:20px; }
body.light canvas { background: #ffffff; border: 1px solid #0a1a2e20; }

.g-marker { background:#ffd700 !important; color:#000 !important; border:3px solid #0a1a2e !important; width:30px !important; height:30px !important; border-radius:50% !important; display:flex !important; align-items:center !important; justify-content:center !important; font-weight:bold !important; font-size:18px !important; animation:pulse 2s infinite; }
@keyframes pulse { 0%{box-shadow:0 0 0 0 #ffd70080} 70%{box-shadow:0 0 0 12px transparent} 100%{box-shadow:0 0 0 0 transparent} }

/* REQ 4: Updated theme toggle styles */
.theme-toggle {
  position: fixed;
  bottom: 25px;
  right: 140px; /* Changed from right */
  left: auto; /* Added */
  top: auto;
  width: 70px;
  height: 36px;
  background: #ffffff30;
  border-radius: 18px;
  cursor: pointer;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: space-around;
  padding: 0 5px;
}
body.light .theme-toggle {
  background: #0a1a2e30;
}
.theme-toggle span {
  font-size: 18px;
}
.slider {
  position: absolute;
  top: 3px;
  left: 3px;
  width: 30px;
  height: 30px;
  background: #ffd700;
  border-radius: 50%;
  transition: 0.4s;
}
body.light .slider {
  transform: translateX(34px);
  background: #ffb300;
}


@media (max-width:960px) {
  .grid { grid-template-columns:1fr; }
  .charts { grid-template-columns:1fr; }

  .nav-toggle {
    display: block;
  }
  
  header {
    justify-content: space-between;
  }

  nav {
    position: fixed;
    top: 0;
    right: -100%;
    width: 70%;
    max-width: 300px;
    height: 100vh;
    background: #112240;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding-top: 60px;
    transition: right 0.4s ease-in-out;
    z-index: 1999;
    border-left: 1px solid #4fc3f750;
  }
  /* REQ 5: Light beige for nav background */
  body.light nav {
    background: #ffffff; /* White looks cleaner for a menu */
    border-left: 1px solid #0a1a2e30;
  }

  nav.nav-active {
    right: 0;
  }

  nav a, nav #user-status-container {
    margin: 20px 0;
    font-size: 1.2rem;
  }
  nav a svg {
    top: 0.1em;
  }
  nav #user-status-container a, 
  nav #user-status-container span {
    margin: 0;
  }

  .clock {
    display: none;
  }

  /* REQ 4: Position theme toggle in mobile nav */
  .theme-toggle {
    position: absolute;
    top: 15px;
    left: 15px; /* Changed from right */
    right: auto; /* Added */
    bottom: auto;
    z-index: 2001; /* Above nav links */
  }
}

/* REQ 3: Styles for Login Page */
.login-page header {
  position: relative; /* Override sticky */
  width: 100%;
  margin-bottom: 30px;
}
.login-page .container {
  max-width: 420px;
  width: 100%;
  margin: 0 20px;
}
.login-page .form-box {
  background: #112240;
  border: 1px solid #ffffff10;
  color: #e0e7ef;
}
.login-page h2 {
  color: #4fc3f7;
}
.login-page h2::after {
  background: linear-gradient(90deg, #4fc3f7, #0077b6);
}
.login-page .input-group input {
  background: #0a1a2e;
  color: #e0e7ef;
  border: 1px solid transparent;
}
.login-page .input-group label {
  color: #aaa;
}
.login-page .input-group input:focus,
.login-page .input-group input:valid {
  background: #0a1a2e;
  box-shadow: 0 0 0 3px rgba(79, 195, 247, 0.3);
  border-color: #4fc3f7;
}
.login-page .input-group input:focus ~ label,
.login-page .input-group input:valid ~ label {
  background: #112240;
  color: #4fc3f7;
}
.login-page .btn {
  background: linear-gradient(90deg, #4fc3f7, #0077b6);
  color: #0a1a2e;
  font-weight: 600;
  font-family: 'Josefin Sans', sans-serif;
}
.login-page .google-btn {
  background: #f0f8ff;
  color: #0a1a2e;
  font-family: 'Josefin Sans', sans-serif;
  font-weight: 600;
}
.login-page .google-btn:hover {
  border-color: #4fc3f7;
}
.login-page .phone-btn {
  font-family: 'Josefin Sans', sans-serif;
  font-weight: 600;
}
.login-page .link {
  color: #e0e7ef;
  font-family: 'Josefin Sans', sans-serif;
}
.login-page .link a {
  color: #4fc3f7;
}
.login-page .back-btn {
  color: #e0e7ef;
}
.login-page .toast {
  font-family: 'Josefin Sans', sans-serif;
}

/* Light theme for login page */
body.light .login-page .form-box {
  background: #ffffff;
  border-color: #0a1a2e20;
  color: #0a1a2e;
}
body.light .login-page h2 { color: #0077b6; }
body.light .login-page .input-group input {
  background: #f0f8ff;
  color: #0a1a2e;
}
body.light .login-page .input-group input:focus,
body.light .login-page .input-group input:valid {
  background: #ffffff;
  border-color: #0077b6;
  box-shadow: 0 0 0 3px rgba(0, 119, 182, 0.2);
}
body.light .login-page .input-group input:focus ~ label,
body.light .login-page .input-group input:valid ~ label {
  background: #ffffff;
  color: #0077b6;
}
body.light .login-page .input-group label {
  color: #555;
}
body.light .login-page .google-btn {
  background: #fdfdfd;
  color: #333;
  border-color: #ccc;
}
body.light .login-page .link { color: #333; }
body.light .login-page .link a { color: #0077b6; }
body.light .login-page .back-btn { color: #0a1a2e; }

/* ABOUT SECTION */
.about-container { max-width: 1000px; margin: 40px auto; text-align: center; }
.about-header { margin-bottom: 50px; }
.about-header h1 { font-size: 3rem; font-weight: 300; margin-bottom: 10px; }
.about-header .subtitle { font-size: 1.2rem; opacity: 0.8; }
body.light .about-header h1, body.light .about-header .subtitle { color: #0a1a2e; }
.about-grid { display: grid; grid-template-columns: 3fr 2fr; gap: 30px; text-align: left; }
.about-card { background: #112240; border: 1px solid #ffffff10; border-radius: 16px; padding: 30px; box-shadow: 0 10px 30px -10px rgba(2, 12, 27, 0.7); }
body.light .about-card { background: #fff; border-color: #0a1a2e10; box-shadow: 0 10px 30px -10px rgba(0,0,0,0.1); }
.about-card h3 { color: #4fc3f7; margin-bottom: 20px; font-size: 1.5rem; border-bottom: 1px solid #ffffff10; padding-bottom: 10px; }
body.light .about-card h3 { color: #0077b6; border-color: #eee; }
.about-card p { line-height: 1.6; margin-bottom: 20px; font-size: 1.05rem; }
body.light .about-card p { color: #333; }
.features-list { display: flex; gap: 15px; flex-wrap: wrap; }
.features-list span { background: #4fc3f715; color: #4fc3f7; padding: 6px 12px; border-radius: 20px; font-size: 0.9rem; font-weight: 600; }
body.light .features-list span { background: #0077b615; color: #0077b6; }
.team-grid { display: flex; flex-direction: column; gap: 15px; }
.team-member { display: flex; align-items: center; gap: 15px; padding: 10px; border-radius: 8px; transition: 0.3s; }
.team-member:hover { background: #ffffff05; }
body.light .team-member:hover { background: #00000005; }
.team-member .avatar { width: 40px; height: 40px; background: #ffd700; color: #000; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem; }
.team-member .info h4 { font-size: 1rem; margin-bottom: 2px; }
.team-member .info span { font-size: 0.8rem; opacity: 0.7; }
body.light .team-member h4, body.light .team-member span { color: #0a1a2e; }
.about-footer { margin-top: 50px; font-size: 0.9rem; opacity: 0.6; }
.about-footer a { color: #4fc3f7; text-decoration: none; }